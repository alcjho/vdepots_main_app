<style>
    .frame-1{
        height:40%;
        width:100%;
        margin:0;
        padding:0;
        border-bottom:6px solid #d8b763;
        background: #008080;
        background: -moz-linear-gradient(top, #008080 0%, #00CFCF 100%);
        background: -webkit-linear-gradient(top, #008080 0%, #00CFCF 100%);
        background: linear-gradient(to bottom, #008080 0%, #00CFCF 100%);
    }

    .frame-btm {
        width:100%;
        height:650px;
        margin:0;
        padding:0;
        float:left;
        background-color:transparent;
    }

    .content{
        overflow:hidden;
        height:auto;
        width:100%;
    }

    .radius {
        width:100%;
        position:relative;
        float:left;
    }

    .inframe-2{
        height:auto;
        overflow:hidden;
        margin:0;
        padding:15px;
        background-color:#ddd;
        border:1px solid #999;
        border-radius:10px;
        margin-top:50px!important;
        margin-bottom:-350px;
        z-index:2;
    }

    .inframe-2 input[type='text']{
        margin-top:25px;
        border-radius:5px;
        height:50px;
        width:100%;
        background-color:#eee;
    }

     .inframe-2 input[type='password']{
        margin-top:25px;
        border-radius:5px;
        height:50px;
        width:100%;
        background-color:#ccf5f5;
        border:1px solid #008080;
    }         

    .inframe-2 input[type='radio']{
        height:25px;
        width:30px;
        background-color:#eee;
    }

    .inframe-2 select{
        margin-top:25px;
        border-radius:5px;
        height:50px;
        width:100%;
        background-color:#eee;       
    }

    .inframe-3{
        height:400px;
        margin-top:50px;
        margin:0;
        padding-top:50px;      
        padding-right:50px;
    }

    .inframe-1{
        height:400px;
        margin-top:50px;
        margin:0;
        padding-top:50px;
        padding-left:50px;
        
        color:#ffffff;
    }

    .radius-line-1{
        background-color:#00CFCF;
         border-bottom:6px solid #d8b763;
        border-bottom-left-radius:50%;
        border-bottom-right-radius:80%;
        height:50px;
        width:50%;
        position:absolute;
        left:0;
        top:-25px;
        margin-bottom:-100px;   
    }

 

    .willing{
        overflow:hidden;
        border-top:1px solid #eee;
        border-bottom:1px solid #eee;
        margin-top:30px;
        padding-bottom:10px;
    }

    .willing table{
        width:100%;
        text-align:right;
    }

    .msg_errors{
        display:none;
    }
    
</style>

<div class="foo-widget" data-foo-id="1"></div>
<div class="foo-widget" data-foo-id="2"></div>
<div class="frame-1">
    <div class="row">
        <div class="col-md-5 inframe-1">
            <h2 style="font-weight:bold"><%= __("Welcome") %></h2>
            <h4 style="color:#d8b763"><%= __("slogan") %></h4>
        </div>
        <div class="col-md-4 inframe-2">
            <form name="signup" id="signup" action="/users/add" method="post">
                <h2 style="margin-left:18px;text-align:center;display:inline-block;margin-top:0"><%= __("register today") %></h2>
                <h3 style="margin-left:18px;text-align:center;display:inline-block;color:darkorange;margin-top:0"><%= __("it's free") %></h3>
                <div class="row">
                    <fieldset class="col-sm-6">
                        <input class="form-control" type="text" name="firstname" placeholder="<%= __('your firstname') %>" tabindex="1">
                        <input class="form-control" type="text" name="company" placeholder="<%= __('your company') %>" tabindex="3">
                        <input class="form-control" type="text" name="phone" placeholder="<%= __('your phone') %>" tabindex="5">
                    </fieldset>
                <fieldset class="col-sm-6">
                    <input class="form-control" type="text" name="lastname" placeholder="<%= __('your lastname') %>" tabindex="2">
                    <select name="location" class="form-control" tabindex="4">
                        <option value=""><%= __("your location") %></option>
                        <option value="Canada">Canada</option>
                        <option value="Etats-unis">Etats-unis</option>
                        <option value="Mexique">Mexique</option>
                        <option value="Haiti">Haiti</option>
                        <option value="Dominican Republic">Dominican Republic</option>
                        <option value="Bahamas">Bahamas</option>
                        </select>
                        <input class="form-control" type="text" name="email" placeholder="<%= __('your email') %>" tabindex="6">
                    </fieldset>
                </div>
                <div class="row">
                    <fieldset class="col-md-6">
                        <input class="form-control" type="password" name="password" placeholder="<%= __('your password') %>" tabindex="7">
                    </fieldset>               

                    <fieldset class="col-md-6">
                        <input class="form-control" type="password" name="password_b" placeholder="<%= __('retype password') %>" tabindex="8">
                    </fieldset>
                </div>
                <fieldset   class="col-md-12">
                        <div class='willing'>
                            <div style="padding-top:20px;"><h4 style="margin-top:0"></h4></div>
                            <table>
                                <tr>
                                    <th>
                                        <label style="margin:5px;"><%= __("I am a reseller") %></label>
                                    </h>
                                    <td>
                                        <input style="margin:10px;"class="form-control" name="utype" value="vendor" type="radio" />    
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        <label style="margin:5px;"><%= __("I am a buyer") %></label>
                                    </th>
                                    <td>
                                        <input style="margin:10px;"class="form-control" name="utype" value="buyer" type="radio" checked/>    
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        <label style="margin:5px;"><%= __("I am a service provider") %></label>
                                    </th>
                                    <td>
                                        <input style="margin:10px;"class="form-control" name="utype" value="provider" type="radio" />    
                                    </td>
                                </tr>
                                 <tr>
                                    <th>
                                        <label style="margin:5px;"><%= __("I am a service professional") %></label>
                                    </th>
                                    <td>
                                        <input style="margin:10px;"class="form-control" name="utype" value="prof" type="radio" />    
                                    </td>
                                </tr>                               
                            </table>
                        </div>
                </fieldset>
                <div class="row">
                    <fieldset class="col-md-8" style="text-align:left;color:red;">
                       <%=locals.error%>
                    </fieldset>                    
                    <fieldset class="col-md-4" style="text-align:right;padding:15px">
                        <button class="btn btn-warning" style="width:100%;height:50px"><%= __("Submit") %></button>
                    </fieldset>    
                </div>                      
            </form>
            <div class="alert alert-danger msg_errors">
            </div> 
        </div>
        <div class="col-md-3 inframe-3"></div>
    </div>
</div>

<div class="radius">
    <div class="radius-line-1"></div><div class="radius-line-2"></div>
</div>

<div class="frame-btm">
</div>

<script>
     $("#signup").on("submit",function  (e) {
        e.preventDefault();
        
        try {
            const res = await axios.post($(this).attr('action'), $(this).serialize());

            if(data.response){
                $.each(res.data.response, function(key, value){
                    $(".msg_errors").append('<p>' + value.msg + '</p>');
                    $(".msg_errors").show();
                })
            }
            //updateTable(data, 2);
        }catch (error) {
            console.error(error);
        }




        /*$.post($(this).attr('action'),$(this).serialize(), function( data, statusText, xhr ) {
            $(".msg_errors").html("");

            if(data.response){
                $.each(data.response, function(key, value){
                    $(".msg_errors").append('<p>' + value.msg + '</p>');
                    $(".msg_errors").show();
                })
            }
        });*/
    });
</script>